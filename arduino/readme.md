TODO:
Consider portmanipulation for speedup and code shrink. See:
arduino.cc/en/Reference/PortManipulation
